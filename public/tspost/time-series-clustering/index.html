<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.53" />


<title>Time Series Clustering - Andrea Perlato</title>
<meta property="og:title" content="Time Series Clustering - Andrea Perlato">



  








<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/logo.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="/graphpost/">Graph</a></li>
    
    <li><a href="/mlpost/">Machine Learning</a></li>
    
    <li><a href="/aipost/">Artificial Intelligence</a></li>
    
    <li><a href="/tspost/">Time Series</a></li>
    
    <li><a href="/theorypost/">Theory</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    

    <h1 class="article-title">Time Series Clustering</h1>

    

    <div class="article-content">
      


<style>
body {
text-align: justify}
</style>
<p>Clustering is the task of grouping s set of objects in such a way that objects in the same group are more similar to each other than to those in other groups. Connectivity-based clustering connects objects to form clusters based on their distance. A cluster can be descibed by the maximum distance needed to connect parts of the cluster. At different distances, different clusters will form, which can be represented using dendrogram. </br></p>
<p>Time series clustering problems arise when we observe a sample of time series and we want to group them into different categories or clusters. This is a central problem in many application fields and hence time series clustering is nowadays an active research area in different disciplines including finance and economics, medicine, engineering, seismology and meteorology, among others.</p>
<p>We use the <a href="http://kdd.ics.uci.edu/databases/synthetic_control/synthetic_control.html"><strong>Synthetic Control Chart Time Series</strong></a>. This dataset contains 600 examples of control charts synthetically generated by the process in Alcock and Manolopoulos (1999).</p>
<pre class="r"><code>data &lt;- read.table(&quot;C:/07 - R Website/dataset/TS/synthetic_control.txt&quot;, header = FALSE)

plot(data[,60], type=&#39;l&#39;)</code></pre>
<p><img src="/TSPost/2019-04-04-time-series-clustering_files/figure-html/unnamed-chunk-1-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>From the graph above, we can see the our data have six patterns. Now we try to separate ech of these six patterns.</p>
<pre class="r"><code># Separate the patterns
j &lt;- c(5, 105, 205, 305, 405, 505)
sample &lt;- t(data[j,])
plot.ts(sample)</code></pre>
<p><img src="/TSPost/2019-04-04-time-series-clustering_files/figure-html/unnamed-chunk-2-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Starting from the top left graph, we have normal trend (5), cycle (105), increasing trend (205), decreasing trend (305), upward shift (405), downward shift (505). Now, we need to do same data preparationg before starting time series clustering.</p>
<pre class="r"><code># Data Preparation
n &lt;- 10
s &lt;- sample(1:100, n)
i &lt;- c(s, 100+s,200+s, 300+s, 400+s, 500+s) # systematic random sample
d &lt;- data[i,]

pattern &lt;- c(rep(&#39;Normal&#39;, n),
             rep(&#39;Cyclic&#39;, n),
             rep(&#39;Increasing trend&#39;, n),
             rep(&#39;Decreasing trend&#39;, n),
             rep(&#39;Upward shift&#39;, n),
             rep(&#39;Downward shift&#39;, n))

# Calculate distance with Dynamic Time Warping
library(dtw)
distance &lt;- dist(d, method=&quot;DTW&quot;)

# Hierarchical Clustering
hc &lt;- hclust(distance, method=&#39;average&#39;)
plot(hc, 
     labels = pattern,
     cex = 0.7,
     hang = -1)

rect.hclust(hc, k=4)</code></pre>
<p><img src="/TSPost/2019-04-04-time-series-clustering_files/figure-html/unnamed-chunk-3-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>As we can see from the graph above, we calculated the distance using the <a href="https://en.wikipedia.org/wiki/Dynamic_time_warping"><strong>Dynamic Time Warping</strong></a>. As we can see from the <strong>Cluster Dendrogram</strong> above, we have a well defined cluster for the <strong>Cyclic Time Series</strong>, and <strong>Normal Time Series</strong>. On the contrary, there is some mix between <strong>Downward shift Time Serie</strong> and <strong>Decreasing trend Time Serie</strong>, the same is between <strong>Upward shift Time Serie</strong> and <strong>Increasing trend Time Serie</strong>. This result in four clusters. but we already now that we have six clusters, in fact there is a problem to discriminate between <strong>Downward shift vs. Decreasing trend</strong> and <strong>Upward shift vs. Increasing trend</strong>.</p>

    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://www.rstudio.com/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    

    
  </body>
</html>

