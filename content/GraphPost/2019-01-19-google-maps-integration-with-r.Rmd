---
title: Google Maps integration with R
author: andrea perlato
date: '2019-01-19'
slug: google-maps-integration-with-r
categories:
  - graph
tags:
  - visualization
  - ggplot
  - ggmap
---

<style>
body {
text-align: justify}
</style>

This is an exmaple about the great advantages to use google maps in combinatin to R.
This could be particularly useful in fraud prevention area. Thi can help fraud investigators to track the movements of the cardholders and how rapidly they use the card. The distance and velocity between two distinct purchase of goods is an indicator of fraud.

```{r, echo=FALSE, comment=NA, message=FALSE, warning=FALSE, fig.align='center', out.width = '100%'}
tartu.data <- read.csv("C:/07 - R Website/dataset/Graph/tartu_housing.csv", sep = ";")
head(tartu.data)

```
Here below, we can see the map of [**Tartu**](https://en.wikipedia.org/wiki/Tartu) and some details.
From the map we can appreciate the density of the population.

```{r, echo=FALSE, comment=NA, message=FALSE, warning=FALSE, fig.align='center', out.width = '100%'}
library(ggmap)
library(maps)
library(ggplot2)

register_google(key = "AIzaSyB3hr4KNjrFMCTa-93qNLQw6Jtii42o0Jk", day_limit = 50)
tartu.map <- get_map(location = "tartu", zoom = 13)

ggmap(tartu.map, extent = "device") + 
  geom_density_2d(data = tartu.data,
             aes(x=lon, y=lat),
             size = .3) +
  stat_density_2d(data = tartu.data,
                  aes(x=lon, y=lat,
                  fill = ..level..,
                  alpha = ..level..),
                  size = 0.01, bins = 16, geom = "polygon") +
  scale_fill_gradient(low = "green", high = "red") +
  scale_alpha(range=c(0,0.25), guide = F)
                        



```









